{% extends "base.html" %}

{% block content %}

<h2 style="background: #1b2d38;color: white;font-family:Montserrat;padding:2em;text-align: center;" > Statistics</h2>

<div class="container">
    <h5 style="font-family: Montserrat; text-align: center;">These are the statistics for each province. You must reload the page to see the most up to date</h5>

    <div style="margin: 2em;">
        <canvas id="myChart" width="400" height="200"></canvas>
    </div>
    
    <script>
        var ctx = document.getElementById("myChart").getContext("2d");
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: [{
                    label: '# of Votes',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
             }]
            },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
    
    </script>

    <table id='stats_table' class='table tablae-bordered table-striped' style="text-align: center;">

        <tr>
            <th  style="text-align: center;">Location</th>
            <th  style="text-align: center;">Average Rating</th>
        </tr>
        {% for row in rows %}
            <tr>
                <td>{{ row[1] }}</td>
                <td>{{ row[0] }}</td>
            </tr>
        {% endfor %} 
    </table>
</div>



<!-- 
<script>
    $(document).ready(function () {
        showGraph();
    });


    function showGraph()
    {
        {
            $.post("data.php",
            function (data)
            {
                console.log(data);
                 var name = [];
                 var marks = [];

                for (var i in data) {
                    name.push(data[i].student_name);
                    marks.push(data[i].marks);
                }

                var chartdata = {
                    labels: name,
                    datasets: [
                        {
                            label: 'Student Marks',
                            backgroundColor: '#49e2ff',
                            borderColor: '#46d5f1',
                            hoverBackgroundColor: '#CCCCCC',
                            hoverBorderColor: '#666666',
                            data: marks
                        }
                    ]
                };

                var graphTarget = $("#graphCanvas");

                var barGraph = new Chart(graphTarget, {
                    type: 'bar',
                    data: chartdata
                });
            });
        }
    }
    </script>-->


{% endblock %}