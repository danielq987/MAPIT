{% extends "base.html" %}

{% block title%} - HOME{% endblock %}

{% block leaflet %}

<!-- LEAFLET CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>


{% endblock %}

{% block content %}

<style> 
    body {
      background:white;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      background-size: cover;
      -o-background-size: cover; 
    }

    .heading {
        background: #1b2d38;
        color: white;
        font-family: "Montserrat";
        padding:2em;
        margin-top:"-4em";
    }

    .logo {
        width:70px;
        position: absolute;
        right: 210px;
        animation: move 1s infinite alternate;  
    }

    @keyframes move {
        /*defines animation — keyframes */
        0% {
            transform: translateY(0px);
        }
        100% {
            transform: translateY(20px);
        }
    }

</style>
    
<div class="header">
    <img src="static/logo.png" ALIGN=”right” alt="logo" class="logo" id="icon">
    <h2 align=center class= "heading" style="margin-bottom: 1em;" id="large-title"> Welcome to MAPIT: Mapping Police Interactions</h2> 
</div>

<div id="mapid" style="width: 1200px; height: 600px; display:block; margin-left: auto; margin-right: auto; margin-bottom: 2em;"></div>
    <script type="text/javascript" src="static/js/canada.js"></script>
    <script>
        function whenClicked(e) {
            // e = event
            console.log(e);
            alert("hello");
            }
        function onEachFeature(feature, layer) {
            //bind click
            layer.on({
                click: whenClicked
            });
        }
            
        var mymap = L.map('mapid').setView([43.8908662,-79.45511119999999], 4); L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZGFuaWVscTk4NyIsImEiOiJja2J5MHo3Z3AwN28xMnh0Nm1pNWl6bWUwIn0.qzRYT-YDVflk9jfeJx6Fxg', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
        }).addTo(mymap);    
        
        var geojson = L.geoJson(provinces, {
            onEachFeature:onEachFeature
        }).addTo(mymap);
        </script>
{% endblock %}